!function(t,i,a){var s=function(t){this.options=Object.assign({},Editor.DefaultSettings,t),this.init()};s.DefaultSettings={callback:function(){}},s.prototype.init=function(){this.canvas=i.getElementById("cvs-compose"),this.context=this.canvas.getContext("2d"),this.radio=this.getPixelRatio(),this.canvas.width=375*this.radio,this.canvas.height=667*this.radio,this.context&&this.drawImageAsyn(0)},s.prototype.getPixelRatio=function(){var i=this.context.backingStorePixelRatio||this.context.webkitBackingStorePixelRatio||this.context.mozBackingStorePixelRatio||this.context.msBackingStorePixelRatio||this.context.oBackingStorePixelRatio||this.context.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/i},s.prototype.drawImageAsyn=function(t){switch(t){case 0:this.drawDefaultBg(++t);break;case 1:this.drawpageBg(++t);break;case 2:this.drawBrushBg(++t);break;case 3:this.drawLogo(++t);break;case 4:this.drawLantern(++t);break;case 5:this.drawEwm(++t);break;default:"function"==typeof this.options.callback&&this.options.callback.call(this,this.canvas,this.radio)}},s.prototype.drawImage=function(t,i,a,s,o,r){var h=this,e=new Image;e.src=t,e.onload=function(){h.context.drawImage(e,i,a,s,o),e=null,h.drawImageAsyn(r)}},s.prototype.drawDefaultBg=function(t){var i=this.options.brushParams.defaultBg,a=this.canvas.width,s=this.canvas.height;this.drawImage(i,0,0,a,s,t)},s.prototype.drawpageBg=function(t){var i=this.options.brushParams.pageBg,a=this.canvas.width,s=this.canvas.height;this.drawImage(i,0,0,a,s,t)},s.prototype.drawBrushBg=function(t){var i=this.options.imageCanvas.url;this.options.imageCanvas.width*this.radio,this.options.imageCanvas.height*this.radio;this.drawImage(i,0,100*this.radio,375*this.radio,305*this.radio,t)},s.prototype.drawLogo=function(t){var i=this.options.brushParams.logo.url;this.options.brushParams.logo.width,this.options.brushParams.logo.height,this.options.brushParams.logo.left,this.options.brushParams.logo.top;this.drawImage(i,15*this.radio,9*this.radio,69*this.radio,20*this.radio,t)},s.prototype.drawLantern=function(t){var i=this.options.brushParams.lantern.url;this.options.brushParams.lantern.width,this.options.brushParams.lantern.height,this.options.brushParams.lantern.left,this.options.brushParams.lantern.top;this.drawImage(i,5*this.radio,31*this.radio,367.5*this.radio,184*this.radio,t)},s.prototype.drawEwm=function(t){var i=this.options.brushParams.ewm.url;this.options.brushParams.ewm.width,this.options.brushParams.ewm.height,this.options.brushParams.ewm.left,this.options.brushParams.ewm.top;this.drawImage(i,275*this.radio,570*this.radio,80*this.radio,80*this.radio)},t.Compose=s}(window,document,$);